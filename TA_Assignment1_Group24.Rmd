---
title: "Text Analytics Assignment 1: Disneyland"
author: "Robbert Batenburg, Amber Dalhuisen, Floris van Haarst & Marijn van der Werff"
date: "05-04-2024"
output: 
  pdf_document:
    toc_depth: 2
    number_sections: TRUE
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library("magick")
```

# Introduction

# Data
For our analysis, we used a data set from [Kaggle](https://www.kaggle.com/datasets/arushchillar/disneyland-reviews) containing reviews on the Disneyland theme parks in Paris, California and Hong Kong posted on Tripadvisor. The data set contains 42,656 reviews, and additionally contains information on the year and month the review was posted, the location of the reviewer and which branch the review is about.

## Preprocessing
In order to prepare the data for analysis, several preprocessing steps were undertaken. Numbers and certain text elements such as times were replaced by placeholders. Stop words were removed and all words were stemmed to facilitate analysis. Any duplicate reviews were removed and very infrequent words were removed.

# Visualisations

## Section 3: Sentiment Analysis
Sentiment analysis is defined as the process of deriving the emotional intent of an author from text (Kwartler, 2017). Sentiment and polarity scores can be used to analyze the comments that are made in positive or negative reviews. Based on these findings, recommendations can be made on elements that are positively reviewed and subsequently negatively reviewed. 

The polarity function accounts for negation and amplifier words, which means words are not merely being classified as positive, e.g., 1, or negative, e.g., -1. When using this function, the polarity word is identified within each sentence. Taking a pool of the four previous and two following words, negations and amplifiers are identified. Amplifiers add a weight while negation words subtract weight. The raw polarity score is then divided by the square root of the total amount of words in the sentence, resulting in the overall sentiment of the sentence.

To illustrate this, in Appendix B a total of six figures are shown. Figure 1 shows that there are more positive reviews, e.g., reviews with a rating higher than or equal to four, than negative reviews, e.g., reviews with a rating lower than or equal to two.  The density of the positive reviews lies as 0.1 compared to -0.1 for the negative reviews. Figure 2 shows the density of the reviews based on a sentiment analysis where no negation words or amplifiers are identified. This figure shows that the average sentiment of the reviews is around 0.2, which is slightly higher compared to the ratings. 

To investigate how negations and amplifications affect the identified sentiment, the settings for the negation list and amplification list were adjusted. More accurately, the first five words from the negation list were used, with the goal of identifying what would happen if the list of negation words was much smaller. The results of this analysis are shown in Figure 3 which shows a narrow density plot. This indicates that the values are more concentrated. This means that there is a higher likelihood of observing values within this range. The same approach was used for amplifiers, where the first five words from the amplificiation words dataset were used. These results are shown in Figure 4, which are distributed much wider than in Figure 3. This indicates a higher variability. Additionally, whereas Figure 3 shows a slightly lower polarity compared to Figure 2, Figure 4 shows a slightly higher polarity. 

Based on these results, it was concluded that identifying more negation words results in a lower polarity of the review and subsequently identifying more amplifiers results in a higher polarity of the review. This leads to the final figure, namely Figure 5 that shows the sentiment word cloud of the scaled polarity score and Term Frequency Inverse Document Frequency (TFIDF) weighted TDM. If a word appears often in reviews, this leads to the assumption that it is important. However, if a word appears in all reviews, it may not be very insightful. TFIDF therefore accounts for words that appear frequently, ultimately resulting in a word cloud with only insightful words. A distinction is made between positive and negative words. The negative word that was used most frequently is 'worst' that pops out directly. This indicates that the overall sentiment around Disneyland is very negative based on the reviews. There are also some positive words to say about Disneyland such as 'outstanding' and 'stunning' although the sentiment behind 'cleaner' and 'divided' is negotiable.

Some recommendations that can be drawn from this analysis are that although the overall sentiment behind the reviews is slightly more positive than negative, Disneyland HongKong should make significant improvements to their park. Research indicates that people want to be nice and acknowledge effort, which could explain why the average sentiment is still higher. This indicates that people say at least one positive thing in this review (Kwartler, 2017). 

Some limitations to this research are that sarcasm cannot easily be identified in the text. Furthermore, Jocker's (2017) dictionary was used for this sentiment analysis but the analysis mainly applies to Disneyland in HongKong. This means that certain words could have a different meaning than is identified in this dictionary.


As an addition to this research, an emotion classification of the research was made. This analysis is based on Plutchikâ€™s wheel of emotion that states eight emotions, namely anger, fear, sadness, disgust, surprise, anticipation, trust and joy. Figure 6 shows the words commonly associated with these emotions in the reviews. The emotions that are represented most frequently are disgust, sadness and anger. These emotions show visitors were very unhappy with their visit and went home disappointed.


## References
Kwartler, T. (2017). Text mining in practice with R. John Wiley & Sons.

# Latent topics


## Appendix B
```{r, echo = F, message = F, fig.show = "hold", out.width = "50%"}
Figure_1 <- readRDS("Figure_1.rds")
Figure_2 <- readRDS("Figure_2.rds")

plot(Figure_1)
plot(Figure_2)
```

```{r, echo = F, message = F, fig.show = "hold", out.width = "50%"}
Figure_3 <- readRDS("Figure_3.rds")
Figure_4 <- readRDS("Figure_4.rds")

plot(Figure_3)
plot(Figure_4)

```

```{r, echo = F, message = F, fig.show = "hold", out.width = "50%"}

Figure_5 <- image_read("Figure_5.png")
Figure_6 <- image_read("Figure_6.png")

plot(Figure_5)
plot(Figure_6)


```

